<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>包含二级菜单的导航栏</title>
    <link rel="stylesheet" type="text/css" href="style.css">
</head>
<body>
    <ul class="nav">
        <li><a href="#">一级菜单</a>
            <ul class="subNav">
                <li><a href="#">二级菜单1</a></li>
                <li><a href="#">二级菜单1</a></li>
                <li><a href="#">二级菜单2</a></li>
                <li><a href="#">二级菜单3</a></li>
                <li><a href="#">二级菜单4</a></li>
            </ul>
        </li>
        <li><a href="#">一级菜单</a>
            <ul class="subNav">
                <li><a href="#">二级菜单</a></li>
                <li><a href="#">二级菜单</a></li>
                <li><a href="#">二级菜单</a></li>
                <li><a href="#">二级菜单</a></li>
            </ul>
        </li>
        <li><a href="#">一级菜单</a></li>
        <li><a href="#">一级菜单</a></li>
        <li><a href="#">一级菜单</a></li>
    </ul>
    <script>
        //获得整个网页中的所有的li标签
        var aLi = document.querySelectorAll('li');

        //遍历网页中的li标签
        for(var i = 0; i < aLi.length; i++) {

            //当鼠标放在li标签上
            aLi[i].onmouseover = function() {

                //获得当前鼠标选中的li标签下的ul标签
                var oSubNav = this.querySelectorAll('ul')[0];

                //如果li标签下存在ul标签
                if(oSubNav) {

                    //定义变量This标记ul标签
                    var This = oSubNav;

                    //移除定时器
                    clearInterval(This.timer);

                    //创建一个每30毫秒调用一次的定时器
                    This.timer = setInterval(function() {

                            //定时器每调用一次，ul标签的高度增加16px
                            This.style.height = This.offsetHeight + 16 + "px";

                            //如果ul标签的高度大于或等于120px
                            if(This.offsetHeight >= 120) {

                                //移除定时器
                                clearInterval(This.timer);
                                This.style.height = '120px';
                            }
                        },
                        30);
                }
            }

            //当鼠标离开li标签
            aLi[i].onmouseout = function() {

                //获得当前鼠标选中的li标签下的ul标签
                var oSubNav = this.querySelectorAll('ul')[0];

                //如果li标签下还有ul标签
                if(oSubNav) {

                    //用This表示li标签下的ul标签
                    var This = oSubNav;

                    //移除定时器
                    clearInterval(This.timer);

                    //创建一个每隔30毫秒调用一次的定时器
                    This.timer = setInterval(function() {

                            //定时器每调用一次,ul标签的高度减少16px
                            This.style.height = This.offsetHeight - 16 + "px";

                            //当ul标签的高度小于等于0的时候
                            if(This.offsetHeight <= 120 % 16) {

                                //移除定时器
                                clearInterval(This.timer);
                                This.style.height = '0';
                            }
                        },
                        30)
                }
            }
        }
    </script>
</body>
</html>